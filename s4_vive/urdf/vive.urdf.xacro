<?xml version="1.0"?>
<robot name="my_robot">
   <xacro:macro name="s4_omni" params="prefix parent">
      <link name="${prefix}/controller0/body_link">
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="package://s4_vive/stl/vive_controller.stl"/>
          </geometry>
          <material name="green">
            <color rgba="0 1 0 1"/>
          </material>
        </visual>
      </link>
      <joint name="${prefix}/controller0/body_joint" type="floating">
        <parent link="${parent}"/>
        <child  link="${prefix}/controller0/body_link"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <axis xyz="0 0 1"/>
        <limit effort="30" velocity="1.0" lower="-2.0" upper="2.0" />
      </joint>
      <link name="${prefix}/controller0/pointer_link" />
      <joint name="${prefix}/controller0/pointer0_joint" type="fixed">
        <parent link="${prefix}/controller0/body_link"/>
        <child  link="${prefix}/controller0/pointer_link"/>
        <origin xyz="0 0 -0.0685" rpy="0 1.01 0"/>
        <axis xyz="0 0 1"/>
        <limit effort="30" velocity="1.0" lower="-2.0" upper="2.0" />
      </joint>
      <link name="${prefix}/controller0/goal_link" />
      <joint name="${prefix}/controller0/goal_joint" type="floating">
        <parent link="${prefix}/controller0/pointer_link"/>
        <child  link="${prefix}/controller0/goal_link"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <axis xyz="0 0 1"/>
      <limit effort="30" velocity="1.0" lower="-2.0" upper="2.0" />
</joint>

    <xacro:macro>
  <link name="world" />
 



<link name="controller1_link">
   <visual>
     <origin rpy="0 0 0" xyz="0 0 0"/>
     <geometry>
       <mesh filename="package://s4_vive/stl/vive_controller.stl"/>
     </geometry>
     <material name="green">
       <color rgba="0 1 0 1"/>
     </material>
   </visual>
  </link>
  <joint name="controller1_joint" type="floating">
    <parent link="world"/>
    <child link="controller1_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="30" velocity="1.0" lower="-2.0" upper="2.0" />
  </joint>


</robot>
